getNS <- function(tau, m, b, n, a, b0, attend) { 
  delta = .96 #from Cocco and Gourinchas and Parker
  mortality = c(0.999264733,0.9984964,0.998462793,0.9984189,0.998367218,0.99836907,0.998375976,0.998403358,0.998435925,0.998458336,0.998473105,0.998459718,0.998428337,0.998394303,0.99835506,0.998297684,0.998229868,0.998148952,0.998060015,0.997965607,0.997863083,0.997752353,0.997638549,0.997516395,0.9973884,0.997264924,0.997138095,0.997015742,0.996882046,0.996731632,0.996598578,0.996477732,0.996358551,0.996227744,0.996060992,0.995852466,0.99558802,0.995272061,0.994906273,0.99450304,0.994072211,0.993620982,0.993131779,0.992594637,0.991985148,0.991277605,0.990456293,0.989524169,0.988486643,0.98737795,0.986230713,0.985070306,0.983853136,0.982481849,0.980955231,0.979397446,0.977835367,0.976179585,0.97415962,0.971789825,0.969322904,0.966823217,0.964080257,0.960982904,0.957130772,0.952089349,0.945608933,0.93786509,0.92920059,0.919910296,0.910170718,0.900006176,0.889320194,0.877927371,0.865670145,0.852357707,0.837803616,0.8218497,0.805766617,0.78987643,0.774510009,0.760009003) #cumulative products of survival probabilities starting living from 18 to 19 through age 99 to 100, see mortality 1997.xlsx
  t = c(19:100)
  i = t/tau
  j = 1-exp(-i)
  b1= n*b0+a
  b2 = m*b0+b
  y = b0+ b1*(j/i)+ b2*((j/i)+j-1)
  lifeInc = 0
  if (attend==1){
    start = 5
  }else{
    start = 1
  }
  for (k in start:82){
    lifeInc = lifeInc + mortality[k]*delta^(k-1)*y[k]
  }
  return(lifeInc)
}